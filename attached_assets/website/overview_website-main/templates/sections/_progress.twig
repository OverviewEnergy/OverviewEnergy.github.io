<section
  class="{{classes}}"
  {% if section.theSectionId is not empty %}
    id="{{section.theSectionId}}"
  {% endif %}
  data-init-section="Reveal"
>
  <div class="PageSection-container">
    <div
      class="flex flex-col gap-[30px] mb-[60px]
             md:gap-[80px] md:mb-[80px]
             lg:flex lg:flex-row lg:gap-[60px] lg:mb-[120px]"
  >
      <h2 class="h1 text-center lg:text-left lg:w-1/2"
        data-reveal-item
      >
        {{section.title|raw}}
      </h2>

      <div
        class="text-center md:text-tablet-h3 md:font-display
               flex flex-col gap-[1em]
               lg:shrink-0 lg:text-large lg:text-left lg:w-1/2"
        data-reveal-item
      >
        {{section.body|raw}}
      </div>
    </div>

    {% if section.mediaItem|length > 0 %}
      <div
        class="w-full mb-[60px] md:mb-[100px]"
        data-reveal-item
      >
        {% include "shared/_mediaItem.twig" with {
          mediaItem: section.mediaItem.one,
          itemClasses: 'w-full',
          imageClasses: 'w-full rounded aspect-video object-cover object-center'
        } only %}
      </div>
    {% endif %}

    {% if section.progressSteps|length > 0 %}
      <div
        class="flex flex-col gap-[10px]
               lg:grid lg:grid-cols-5 lg:gap-[10px]"
      >
        {% for step in section.progressSteps %}
          {% set stepClasses = 'bg-gray-100' %}

          {% if step.stepStatus == 'complete' %}
            {% set stepClasses = 'bg-light-blue' %}
          {% endif %}

          {% if step.stepStatus == 'inProgress' %}
            {% set stepClasses = 'bg-light-green' %}
          {% endif %}

          <div
            class="rounded flex p-[20px] overflow-hidden lg:min-h-[250px] {{stepClasses}}"
            data-reveal-item
          >
            <div
              class="flex flex-col gap-[20px] justify-between w-full h-full
                     {% if step.stepStatus == 'upcoming' %}
                       opacity-20
                     {% endif %}"
            >
              <div class="progress-title wrap-break-word">
                {{step.title|raw}}
              </div>

              <div class="flex flex-col gap-[30px]">
                {% include "shared/_links.twig" with {
                  links: step.links,
                  wrapperClasses: '',
                  linkClasses: 'Button Button--small Button--hoverWhite'
                } %}

                <div class="flex justify-between gap-[10px] w-full">
                  {% if step.stepStatus is not empty %}
                    <div class="h5 flex flex-row gap-[7px] w-full">
                      {% if step.stepStatus == 'upcoming' %}
                        <span class="size-[15px] rounded-full border
                                    border-gray-500">
                        </span>
                      {% else %}
                        <span class="size-[15px] rounded-full bg-gray-500"></span>
                      {% endif %}

                      <span class="">
                        {{step.stepStatus.label|raw}}
                      </span>
                    </div>
                  {% endif %}

                  <span class="h5">
                    {{step.year}}
                  </span>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>